{"is_source_file": true, "format": "Python (FastAPI)", "description": "This file defines API endpoints for managing recipes, including listing, creating, retrieving, updating, and deleting recipes. It utilizes FastAPI's APIRouter, SQLAlchemy ORM models, and dependency injection for database sessions and user authentication.", "external_files": ["../schemas", "../models", "../deps"], "external_methods": ["get_db", "get_current_user"], "published": ["router"], "classes": [], "methods": [{"name": "list_recipes( q: Optional[str] = Query(None, description=\"Search in title/desc/ingredient/tag\"), tag: Optional[str] = Query(None, description=\"Filter by tag name\"), ingredient: Optional[str] = Query(None, description=\"Filter by ingredient name\"), db: Session = Depends(get_db), skip: int = 0, limit: int = 20 )", "description": "Handles GET requests to list or search recipes with optional filters for query text, tags, or ingredients.", "scope": "", "scopeKind": ""}, {"name": "create_recipe( data: RecipeCreate, db: Session = Depends(get_db), user=Depends(get_current_user) )", "description": "Handles POST requests to create a new recipe associated with the current user.", "scope": "", "scopeKind": ""}, {"name": "get_recipe(recipe_id: int, db: Session = Depends(get_db))", "description": "Handles GET requests to retrieve details of a specific recipe by its ID.", "scope": "", "scopeKind": ""}, {"name": "update_recipe( recipe_id: int, data: RecipeUpdate, db: Session = Depends(get_db), user=Depends(get_current_user) )", "description": "Handles PUT requests to update an existing recipe, restricted to the owner.", "scope": "", "scopeKind": ""}, {"name": "delete_recipe(recipe_id: int, db: Session = Depends(get_db), user=Depends(get_current_user))", "description": "Handles DELETE requests to remove a recipe, restricted to the owner.", "scope": "", "scopeKind": ""}], "calls": ["db.query(Recipe)", "db.query(Ingredient)", "db.query(Tag)", "db.add(ing)", "db.add(tag)", "db.commit()", "db.refresh(recipe)", "db.delete(recipe)"], "search-terms": ["FastAPI", "recipe endpoints", "APIRouter", "SQLAlchemy ORM", "recipe CRUD", "search filtering"], "state": 2, "file_id": 11, "knowledge_revision": 24, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-138345-138355/recipe_backend/src/api/routers/recipes.py", "pattern": "/^def create_recipe($/", "language": "Python", "kind": "function", "signature": "( data: RecipeCreate, db: Session = Depends(get_db), user=Depends(get_current_user) )"}, {"_type": "tag", "name": "delete_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-138345-138355/recipe_backend/src/api/routers/recipes.py", "pattern": "/^def delete_recipe(recipe_id: int, db: Session = Depends(get_db), user=Depends(get_current_user))/", "language": "Python", "kind": "function", "signature": "(recipe_id: int, db: Session = Depends(get_db), user=Depends(get_current_user))"}, {"_type": "tag", "name": "get_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-138345-138355/recipe_backend/src/api/routers/recipes.py", "pattern": "/^def get_recipe(recipe_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(recipe_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-138345-138355/recipe_backend/src/api/routers/recipes.py", "pattern": "/^def list_recipes($/", "language": "Python", "kind": "function", "signature": "( q: Optional[str] = Query(None, description=\"Search in title/desc/ingredient/tag\"), tag: Optional[str] = Query(None, description=\"Filter by tag name\"), ingredient: Optional[str] = Query(None, description=\"Filter by ingredient name\"), db: Session = Depends(get_db), skip: int = 0, limit: int = 20 )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/recipe-explorer-138345-138355/recipe_backend/src/api/routers/recipes.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-138345-138355/recipe_backend/src/api/routers/recipes.py", "pattern": "/^def update_recipe($/", "language": "Python", "kind": "function", "signature": "( recipe_id: int, data: RecipeUpdate, db: Session = Depends(get_db), user=Depends(get_current_user) )"}], "hash": "29ce0d697db1256ee1c73add75722f36", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/api/routers/recipes.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"24": ""}]}